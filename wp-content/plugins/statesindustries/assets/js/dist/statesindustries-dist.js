!function(e){var n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(o,a,function(n){return e[n]}.bind(null,a));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=0)}([function(e,n,t){t(1),e.exports=t(2)},function(e,n){jQuery(document).ready((function(e){function n(){return e("#show-panels").is(":checked")}function t(){e(".panel-selector-wrapper").show(),e(".live-look-wrapper-connected .live-look-panels").show()}function o(){e(".panel-selector-wrapper").hide(),e(".live-look-wrapper-connected .live-look-panels").hide()}function a(){return e("#panel-selector").val()}function i(){e.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"get_live_look_data"},dataType:"json"}).done((function(n){"true"!=n.show_panels?(e("#show-panels").prop("checked",!1),e("#panel-selector").val([]),o()):(e("#show-panels").prop("checked",!0),e("#panel-selector").val(n.panel_ids),t(),l(n.panel_ids))}))}function l(n){e(".live-look-panels .panel-full").each((function(){var t=e(this),o=e(this).data("id").toString();n.includes(o)?e(t).show():e(t).hide()}))}0!=e("#livelook").length&&(i(),0==e(".live-look-controls").length&&setInterval((function(){i()}),3e3),e("body").on("change","#show-panels, #panel-selector",(function(i){i.preventDefault(),n()?t():o(),l(a()),e.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"save_live_look_data",show_panels:n(),panel_ids:a()}})})))}))},function(e,n){jQuery(document).ready((function(e){function n(){e(".live-look-image-viewer-content").show(),e("#show-images").prop("checked",!0),e(".image-viewer-controls").show()}function t(){e(".live-look-image-viewer-content").hide(),e("#show-images").prop("checked",!1),e(".image-viewer-controls").hide()}function o(){console.log("fetching data.."),e.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"get_live_look_image"},dataType:"json"}).done((function(e){console.log("data fetched"),l(),console.log("attachment",e.attachment.url),e.attachment.url?(n(),c(e.attachment.id,e.attachment.url)):t()}))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(e),l(),e&&c(e.id,e.url)}function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"save_live_look_image",attachment_id:n?n.id:null}})}function l(){e(".live-look-image-viewer-content").html("")}function c(n,t){(function(n){return e('.live-look-image-viewer-content img[data-id="'.concat(n,'"]')).length>0})(n)||e(".live-look-image-viewer-content").append('<img src="'.concat(t,'" data-id="').concat(n,'" />'))}0!=e("#livelook").length&&(o(),0==e(".live-look-controls").length&&setInterval((function(){o()}),3e3),e("body").on("click",".live-look-image-chooser",(function(n){n.preventDefault();e(this);var t=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:"image"},button:{text:"Select"},multiple:!1});t.on("select",(function(){a(t.state().get("selection").first().toJSON())})),t.open()})),e("body").on("click",".clear-live-look-images",(function(e){e.preventDefault(),a()})),e("body").on("change","#show-images",(function(){e("#show-images").is(":checked")?n():(a(),t())})))}))}]);